<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Unternehmensnachfolge-Berater | Fragebogen</title>
  <meta name="description" content="Emotional, aber planbar - Ihr Weg zur erfolgreichen Übergabe. Interaktiver Berater für Unternehmensnachfolge.">
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <style>
    .perspective-card {
      transition: transform 0.2s, box-shadow 0.2s;
    }
    .perspective-card:hover {
      transform: translateY(-4px);
      box-shadow: 0 10px 25px rgba(0,0,0,0.1);
    }
    .fade-in {
      animation: fadeIn 0.6s ease-in;
    }
    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(20px); }
      to { opacity: 1; transform: translateY(0); }
    }
  </style>
</head>
<body class="bg-gray-50 min-h-screen">
  <!-- Header -->
  <header class="bg-gradient-to-r from-orange-500 to-orange-600 text-white shadow-lg">
    <div class="container mx-auto px-4 py-6">
      <h1 class="text-3xl font-bold flex items-center gap-3">
        <i class="fas fa-handshake"></i>
        Unternehmensnachfolge-Berater
      </h1>
      <p class="text-orange-100 mt-2 text-lg italic">
        "Emotional, aber planbar - Ihr Weg zur erfolgreichen Übergabe"
      </p>
      <div class="mt-4 flex gap-4">
        <a href="/" class="bg-white text-orange-600 px-4 py-2 rounded-lg font-semibold">
          <i class="fas fa-clipboard-list mr-2"></i>Fragebogen
        </a>
        <a href="/chat.html" class="bg-orange-700 text-white px-4 py-2 rounded-lg hover:bg-orange-800 transition">
          <i class="fas fa-comments mr-2"></i>Chatbot
        </a>
      </div>
    </div>
  </header>

  <!-- Main Content -->
  <main class="container mx-auto px-4 py-8 max-w-4xl">
    
    <!-- Intro Section -->
    <div id="intro-section" class="bg-white rounded-lg shadow-md p-6 mb-8">
      <h2 class="text-2xl font-bold text-gray-800 mb-4">
        <i class="fas fa-info-circle text-blue-500 mr-2"></i>
        Willkommen beim Nachfolge-Berater
      </h2>
      <p class="text-gray-700 mb-4">
        Dieser strukturierte Fragebogen hilft Ihnen, Ihre Unternehmensnachfolge systematisch zu planen. 
        In zwei einfachen Schritten analysieren wir Ihre Situation und geben Ihnen konkrete Empfehlungen 
        aus vier Perspektiven: <span class="font-semibold text-red-600">emotional</span>, 
        <span class="font-semibold text-blue-600">rechtlich</span>, 
        <span class="font-semibold text-green-600">steuerlich</span> und 
        <span class="font-semibold text-purple-600">organisatorisch</span>.
      </p>
      <div class="bg-orange-50 border-l-4 border-orange-500 p-4 mb-4">
        <p class="text-sm text-gray-700">
          <i class="fas fa-lightbulb text-orange-500 mr-2"></i>
          <strong>Tipp:</strong> Bevorzugen Sie eine persönlichere, gesprächsähnliche Beratung? 
          Probieren Sie unseren <a href="/chat.html" class="text-orange-600 underline font-semibold">Chatbot-Modus</a>!
        </p>
      </div>
      <div class="flex items-center gap-4 text-sm text-gray-600">
        <span><i class="fas fa-clock mr-1"></i> Dauer: ~5 Minuten</span>
        <span><i class="fas fa-lock mr-1"></i> Vertraulich & anonym</span>
        <span><i class="fas fa-chart-line mr-1"></i> Individuelle Analyse</span>
      </div>
    </div>

    <!-- Progress Bar -->
    <div class="mb-8">
      <div class="flex justify-between mb-2">
        <span class="text-sm font-medium text-gray-700">Fortschritt</span>
        <span class="text-sm font-medium text-gray-700"><span id="progress-text">0%</span></span>
      </div>
      <div class="w-full bg-gray-200 rounded-full h-3">
        <div id="progress-bar" class="bg-orange-500 h-3 rounded-full transition-all duration-300" style="width: 0%"></div>
      </div>
    </div>

    <!-- Step 1: Unternehmensdaten -->
    <form id="fragebogen-form">
      <div id="step-1" class="bg-white rounded-lg shadow-md p-6 mb-6 fade-in">
        <h2 class="text-2xl font-bold text-gray-800 mb-6 flex items-center gap-2">
          <span class="bg-orange-500 text-white rounded-full w-8 h-8 flex items-center justify-center">1</span>
          Unternehmensdaten
        </h2>

        <!-- Unternehmensgröße -->
        <div class="mb-6">
          <label class="block text-gray-700 font-semibold mb-2">
            <i class="fas fa-building text-gray-500 mr-2"></i>Unternehmensgröße *
          </label>
          <select name="unternehmensgroesse" required class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent">
            <option value="">Bitte wählen...</option>
            <option value="klein">Klein (&lt; 10 Mitarbeiter)</option>
            <option value="mittel">Mittel (10-250 Mitarbeiter)</option>
            <option value="gross">Groß (&gt; 250 Mitarbeiter)</option>
          </select>
        </div>

        <!-- Branche -->
        <div class="mb-6">
          <label class="block text-gray-700 font-semibold mb-2">
            <i class="fas fa-industry text-gray-500 mr-2"></i>Branche *
          </label>
          <select name="branche" required class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent">
            <option value="">Bitte wählen...</option>
            <option value="handwerk">Handwerk</option>
            <option value="produktion">Produktion</option>
            <option value="handel">Handel</option>
            <option value="dienstleistung">Dienstleistung</option>
            <option value="it">IT</option>
            <option value="andere">Andere</option>
          </select>
        </div>

        <!-- Jahresumsatz -->
        <div class="mb-6">
          <label class="block text-gray-700 font-semibold mb-2">
            <i class="fas fa-euro-sign text-gray-500 mr-2"></i>Jahresumsatz *
          </label>
          <select name="jahresumsatz" required class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent">
            <option value="">Bitte wählen...</option>
            <option value="unter_500k">Unter 500.000 €</option>
            <option value="500k_2m">500.000 - 2 Mio. €</option>
            <option value="2m_10m">2 - 10 Mio. €</option>
            <option value="ueber_10m">Über 10 Mio. €</option>
          </select>
        </div>

        <!-- Mitarbeiteranzahl -->
        <div class="mb-6">
          <label class="block text-gray-700 font-semibold mb-2">
            <i class="fas fa-users text-gray-500 mr-2"></i>Anzahl Mitarbeiter *
          </label>
          <input type="number" name="mitarbeiteranzahl" required min="0" max="10000" 
            class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent"
            placeholder="z.B. 25">
        </div>

        <!-- Familienunternehmen -->
        <div class="mb-6">
          <label class="block text-gray-700 font-semibold mb-2">
            <i class="fas fa-home text-gray-500 mr-2"></i>Familienunternehmen? *
          </label>
          <div class="flex gap-4">
            <label class="flex items-center cursor-pointer">
              <input type="radio" name="familienunternehmen" value="ja" required class="mr-2 w-5 h-5 text-orange-500">
              <span>Ja</span>
            </label>
            <label class="flex items-center cursor-pointer">
              <input type="radio" name="familienunternehmen" value="nein" required class="mr-2 w-5 h-5 text-orange-500">
              <span>Nein</span>
            </label>
          </div>
        </div>

        <button type="button" onclick="nextStep()" class="w-full bg-orange-500 hover:bg-orange-600 text-white font-bold py-4 px-6 rounded-lg transition flex items-center justify-center gap-2">
          Weiter zu Schritt 2
          <i class="fas fa-arrow-right"></i>
        </button>
      </div>

      <!-- Step 2: Nachfolgeplanung -->
      <div id="step-2" class="bg-white rounded-lg shadow-md p-6 mb-6 hidden fade-in">
        <h2 class="text-2xl font-bold text-gray-800 mb-6 flex items-center gap-2">
          <span class="bg-orange-500 text-white rounded-full w-8 h-8 flex items-center justify-center">2</span>
          Nachfolgeplanung
        </h2>

        <!-- Nachfolger vorhanden -->
        <div class="mb-6">
          <label class="block text-gray-700 font-semibold mb-2">
            <i class="fas fa-user-check text-gray-500 mr-2"></i>Nachfolger vorhanden? *
          </label>
          <select name="nachfolgerVorhanden" id="nachfolgerVorhanden" required class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent">
            <option value="">Bitte wählen...</option>
            <option value="ja">Ja</option>
            <option value="nein">Nein</option>
            <option value="unklar">Unklar</option>
          </select>
        </div>

        <!-- Nachfolger-Typ (conditional) -->
        <div id="nachfolgerTyp-container" class="mb-6 hidden">
          <label class="block text-gray-700 font-semibold mb-2">
            <i class="fas fa-user-tag text-gray-500 mr-2"></i>Art des Nachfolgers *
          </label>
          <select name="nachfolgerTyp" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent">
            <option value="">Bitte wählen...</option>
            <option value="familie">Familie</option>
            <option value="mitarbeiter">Mitarbeiter</option>
            <option value="extern">Extern</option>
          </select>
        </div>

        <!-- Zeitrahmen -->
        <div class="mb-6">
          <label class="block text-gray-700 font-semibold mb-2">
            <i class="fas fa-calendar-alt text-gray-500 mr-2"></i>Geplanter Zeitrahmen *
          </label>
          <select name="zeitrahmen" required class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent">
            <option value="">Bitte wählen...</option>
            <option value="unter_2_jahre">Unter 2 Jahre</option>
            <option value="2_5_jahre">2-5 Jahre</option>
            <option value="ueber_5_jahre">Über 5 Jahre</option>
          </select>
        </div>

        <!-- Alter Inhaber -->
        <div class="mb-6">
          <label class="block text-gray-700 font-semibold mb-2">
            <i class="fas fa-birthday-cake text-gray-500 mr-2"></i>Ihr Alter *
          </label>
          <input type="number" name="alterInhaber" required min="18" max="100" 
            class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent"
            placeholder="z.B. 62">
        </div>

        <!-- Emotionale Bindung -->
        <div class="mb-6">
          <label class="block text-gray-700 font-semibold mb-2">
            <i class="fas fa-heart text-gray-500 mr-2"></i>Emotionale Bindung zum Unternehmen *
          </label>
          <select name="emotionaleBindung" required class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent">
            <option value="">Bitte wählen...</option>
            <option value="sehr_hoch">Sehr hoch</option>
            <option value="hoch">Hoch</option>
            <option value="mittel">Mittel</option>
            <option value="niedrig">Niedrig</option>
          </select>
        </div>

        <!-- Finanzielle Erwartungen -->
        <div class="mb-6">
          <label class="block text-gray-700 font-semibold mb-2">
            <i class="fas fa-money-bill-wave text-gray-500 mr-2"></i>Finanzielle Erwartungen *
          </label>
          <select name="finanzielleErwartungen" required class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent">
            <option value="">Bitte wählen...</option>
            <option value="sehr_hoch">Sehr hoch</option>
            <option value="hoch">Hoch</option>
            <option value="mittel">Mittel</option>
            <option value="niedrig">Niedrig</option>
          </select>
        </div>

        <div class="flex gap-4">
          <button type="button" onclick="prevStep()" class="flex-1 bg-gray-300 hover:bg-gray-400 text-gray-800 font-bold py-4 px-6 rounded-lg transition flex items-center justify-center gap-2">
            <i class="fas fa-arrow-left"></i>
            Zurück
          </button>
          <button type="submit" class="flex-1 bg-green-500 hover:bg-green-600 text-white font-bold py-4 px-6 rounded-lg transition flex items-center justify-center gap-2">
            <i class="fas fa-chart-line"></i>
            Analyse starten
          </button>
        </div>
      </div>
    </form>

    <!-- Results Section -->
    <div id="results-section" class="hidden">
      <!-- Szenario Header -->
      <div class="bg-gradient-to-r from-blue-500 to-purple-600 text-white rounded-lg shadow-lg p-6 mb-6 fade-in">
        <h2 class="text-3xl font-bold mb-2">
          <i class="fas fa-lightbulb mr-2"></i>
          Ihre Analyse-Ergebnisse
        </h2>
        <p class="text-lg opacity-90" id="szenario-beschreibung"></p>
        <div class="mt-4 flex items-center gap-4">
          <span class="bg-white bg-opacity-20 px-4 py-2 rounded-lg font-semibold" id="prioritaet-badge"></span>
          <span class="bg-white bg-opacity-20 px-4 py-2 rounded-lg" id="szenario-badge"></span>
        </div>
      </div>

      <!-- Perspektiven -->
      <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-6">
        <!-- Emotional -->
        <div class="perspective-card bg-white rounded-lg shadow-md p-6 border-l-4 border-red-500 fade-in">
          <h3 class="text-xl font-bold text-red-600 mb-4 flex items-center gap-2">
            <i class="fas fa-heart"></i>
            Emotional
          </h3>
          <ul id="perspektive-emotional" class="space-y-2 text-gray-700 text-sm"></ul>
        </div>

        <!-- Rechtlich -->
        <div class="perspective-card bg-white rounded-lg shadow-md p-6 border-l-4 border-blue-500 fade-in">
          <h3 class="text-xl font-bold text-blue-600 mb-4 flex items-center gap-2">
            <i class="fas fa-gavel"></i>
            Rechtlich
          </h3>
          <ul id="perspektive-rechtlich" class="space-y-2 text-gray-700 text-sm"></ul>
        </div>

        <!-- Steuerlich -->
        <div class="perspective-card bg-white rounded-lg shadow-md p-6 border-l-4 border-green-500 fade-in">
          <h3 class="text-xl font-bold text-green-600 mb-4 flex items-center gap-2">
            <i class="fas fa-calculator"></i>
            Steuerlich
          </h3>
          <ul id="perspektive-steuerlich" class="space-y-2 text-gray-700 text-sm"></ul>
        </div>

        <!-- Organisatorisch -->
        <div class="perspective-card bg-white rounded-lg shadow-md p-6 border-l-4 border-purple-500 fade-in">
          <h3 class="text-xl font-bold text-purple-600 mb-4 flex items-center gap-2">
            <i class="fas fa-cogs"></i>
            Organisatorisch
          </h3>
          <ul id="perspektive-organisatorisch" class="space-y-2 text-gray-700 text-sm"></ul>
        </div>
      </div>

      <!-- Nächste Schritte -->
      <div class="bg-white rounded-lg shadow-md p-6 mb-6 fade-in">
        <h3 class="text-xl font-bold text-gray-800 mb-4 flex items-center gap-2">
          <i class="fas fa-tasks text-orange-500"></i>
          Nächste Schritte
        </h3>
        <ul id="naechste-schritte" class="space-y-2 text-gray-700"></ul>
      </div>

      <!-- Risiken & Chancen -->
      <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-6">
        <div class="bg-white rounded-lg shadow-md p-6 fade-in">
          <h3 class="text-xl font-bold text-red-600 mb-4 flex items-center gap-2">
            <i class="fas fa-exclamation-triangle"></i>
            Risiken
          </h3>
          <ul id="risiken-liste" class="space-y-2 text-gray-700 text-sm"></ul>
        </div>

        <div class="bg-white rounded-lg shadow-md p-6 fade-in">
          <h3 class="text-xl font-bold text-green-600 mb-4 flex items-center gap-2">
            <i class="fas fa-check-circle"></i>
            Chancen
          </h3>
          <ul id="chancen-liste" class="space-y-2 text-gray-700 text-sm"></ul>
        </div>
      </div>

      <!-- Zeitplan -->
      <div class="bg-white rounded-lg shadow-md p-6 mb-6 fade-in">
        <h3 class="text-xl font-bold text-gray-800 mb-4 flex items-center gap-2">
          <i class="fas fa-calendar-check text-blue-500"></i>
          Zeitplan
        </h3>
        <div class="space-y-4">
          <div>
            <h4 class="font-bold text-orange-600 mb-2">0-2 Jahre</h4>
            <ul id="zeitplan-0-2" class="space-y-1 text-gray-700 text-sm ml-4"></ul>
          </div>
          <div>
            <h4 class="font-bold text-orange-600 mb-2">2-5 Jahre</h4>
            <ul id="zeitplan-2-5" class="space-y-1 text-gray-700 text-sm ml-4"></ul>
          </div>
          <div>
            <h4 class="font-bold text-orange-600 mb-2">5+ Jahre</h4>
            <ul id="zeitplan-5-plus" class="space-y-1 text-gray-700 text-sm ml-4"></ul>
          </div>
        </div>
      </div>

      <!-- Erfolgsfaktoren -->
      <div class="bg-white rounded-lg shadow-md p-6 mb-6 fade-in">
        <h3 class="text-xl font-bold text-gray-800 mb-4 flex items-center gap-2">
          <i class="fas fa-star text-yellow-500"></i>
          Erfolgsfaktoren
        </h3>
        <ul id="erfolgsfaktoren-liste" class="space-y-2 text-gray-700"></ul>
      </div>

      <!-- Statistiken & Zitate -->
      <div class="bg-gray-100 rounded-lg p-6 mb-6 fade-in">
        <h3 class="text-xl font-bold text-gray-800 mb-4 flex items-center gap-2">
          <i class="fas fa-chart-bar text-blue-500"></i>
          Statistiken & Expertenwissen
        </h3>
        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
          <div>
            <h4 class="font-semibold text-gray-700 mb-2">Fakten</h4>
            <ul id="statistiken-liste" class="space-y-1 text-sm text-gray-600"></ul>
          </div>
          <div>
            <h4 class="font-semibold text-gray-700 mb-2">Expertenzitate</h4>
            <ul id="zitate-liste" class="space-y-1 text-sm text-gray-600 italic"></ul>
          </div>
        </div>
      </div>

      <!-- Actions -->
      <div class="flex gap-4">
        <button onclick="neueAnalyse()" class="flex-1 bg-orange-500 hover:bg-orange-600 text-white font-bold py-4 px-6 rounded-lg transition flex items-center justify-center gap-2">
          <i class="fas fa-redo"></i>
          Neue Analyse
        </button>
        <button onclick="window.print()" class="flex-1 bg-gray-600 hover:bg-gray-700 text-white font-bold py-4 px-6 rounded-lg transition flex items-center justify-center gap-2">
          <i class="fas fa-print"></i>
          Drucken
        </button>
      </div>
    </div>

    <!-- Loading -->
    <div id="loading-section" class="hidden text-center py-12">
      <div class="inline-block animate-spin rounded-full h-16 w-16 border-t-4 border-b-4 border-orange-500 mb-4"></div>
      <p class="text-gray-700 text-lg font-semibold">Ihre Analyse wird erstellt...</p>
      <p class="text-gray-500 text-sm">Dies dauert nur wenige Sekunden</p>
    </div>
  </main>

  <!-- Footer -->
  <footer class="bg-gray-800 text-white py-8 mt-12">
    <div class="container mx-auto px-4 text-center">
      <p class="mb-2">© 2025 Unternehmensnachfolge-Berater</p>
      <p class="text-sm text-gray-400">
        Diese Anwendung dient ausschließlich zu Informationszwecken und ersetzt keine professionelle Beratung.
      </p>
      <p class="text-sm text-gray-400 mt-2">
        <i class="fas fa-shield-alt mr-1"></i>
        Powered by Cloudflare Workers
      </p>
    </div>
  </footer>

  <script src="/fragebogen.js"></script>
</body>
</html>
